{
  "version": 3,
  "file": "config.js",
  "sourceRoot": "..",
  "sources": [
    "src/config.coffee"
  ],
  "names": [],
  "mappings": "AAAA;;;;;;;;;IAAA,iBAAA,EAAA,MAAA,EAAA,WAAA,EAAA,QAAA,EAAA,QAAA,EAAA,WAAA,EAAA;;AAAA,MAAA,GAAS,OAAA,CAAQ,eAAR;;AACT,QAAA,GAAW,OAAA,CAAQ,iBAAR;;AACX,QAAA,GAAW,OAAA,CAAQ,iBAAR;;AACX,WAAA,GAAc,OAAA,CAAQ,oBAAR;;AAEd,iBAAA,GAAoB;;AAEpB,WAAA,GAAc,QAAA,CAAC,GAAD,CAAA;SACZ,GAAG,CAAC,KAAJ,CAAU,YAAV;AADY;;AAWd,cAAA,GAAiB,QAAA,CAAC,MAAD,EAAS,GAAT,EAAc,KAAd,CAAA;AACf,MAAA,KAAA,EAAA,KAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,EAAA,GAAA,EAAA;EAAA,KAAA,GAAQ,GAAG,CAAC,KAAJ,CAAU,SAAV,CAAoB,CAAC,MAArB,CAA4B,CAAC,CAAD,CAAA,GAAA;WAAM,CAAC,CAAC;EAAR,CAA5B;EACR,KAAA,GAAQ;EACR,OAAA,GAAU,KAAK,CAAC,GAAN,CAAA;EACV,KAAA,uCAAA;;IACE,KAAA,GAAQ,KAAM,CAAA,QAAA;IACd,IAAO,aAAP;MACE,KAAA,GAAQ,CAAA;MACR,KAAM,CAAA,QAAA,CAAN,GAAkB,MAFpB;;IAGA,KAAA,GAAQ;EALV;SAOA,KAAM,CAAA,OAAA,CAAN,GAAiB;AAXF;;AAajB,MAAM,CAAC,OAAP,GAAiB,QAAA,CAAC,UAAD,EAAa,SAAb,CAAA;AACf,MAAA,cAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA;EAAA,IAAI,2BAAD,IAAuB,UAAA,KAAc,IAAxC;IACE,cAAA,GAAiB,OAAO,CAAC,GAAG,CAAC;IAC7B,IAAG,sBAAH;MACE,GAAA,GAAM,OAAA,CAAQ,KAAR,CAAc,CAAC,KAAf,CAAqB,cAArB,EAAqC,IAArC;MACN,iBAAA,GACE;QAAA,UAAA,EAAY,GAAG,CAAC,IAAhB;QACA,OAAA,EAAS,GAAG,CAAC,IAAJ,IAAa,GAAG,CAAC,IAAI,CAAC,KAAT,CAAe,GAAf,CAAoB,CAAA,CAAA,CAD1C;QAEA,UAAA,EAAY,GAAG,CAAC,IAAJ,IAAa,GAAG,CAAC,IAAI,CAAC,KAAT,CAAe,GAAf,CAAoB,CAAA,CAAA,CAF7C;QAGA,WAAA,EAAa,oBAHb;QAIA,mBAAA,EAAqB,GAAG,CAAC,QAAJ,IAAiB,GAAG,CAAC,QAAQ,CAAC,SAAb,CAAuB,CAAvB;MAJtC;MAKF,IAAG,iBAAH;AACE;QAAA,KAAA,QAAA;;UACE,IAAG,WAAA,CAAY,CAAZ,CAAH;YACE,cAAA,CAAe,iBAAf,EAAkC,CAAlC,EAAqC,CAArC,EADF;WAAA,MAAA;YAGE,iBAAkB,CAAA,CAAA,CAAlB,GAAuB,EAHzB;;QADF,CADF;OARF;KAAA,MAAA;MAeE,iBAAA,GAAoB,CAAA,EAftB;KAFF;;EAkBA,IAAG,CAAI,WAAA,CAAY,SAAZ,CAAP;IACE,iBAAkB,CAAA,UAAA,CAAlB,GAAgC,UADlC;GAAA,MAEK,IAAG,QAAA,CAAS,UAAT,CAAH;AACH,WAAO,iBAAkB,CAAA,UAAA,EADtB;GAAA,MAEA,IAAG,QAAA,CAAS,UAAT,CAAH;IACH,MAAA,CAAO,iBAAP,EAA0B,UAA1B,EADG;;SAEL;AAzBe",
  "sourcesContent": [
    "extend = require(\"lodash/extend\")\nisObject = require(\"lodash/isObject\")\nisString = require(\"lodash/isString\")\nisUndefined = require(\"lodash/isUndefined\")\n\ncloudinary_config = undefined\n\nisNestedKey = (key)->\n  key.match /\\w+\\[\\w+\\]/\n\n###**\n  * Assign a value to a nested object\n  * @function putNestedValue\n  * @param params the parent object - this argument will be modified!\n  * @param key key in the form nested[innerkey]\n  * @param value the value to assign\n  * @return the modified params object\n###\nputNestedValue = (params, key, value)->\n  chain = key.split(/[\\[\\]]+/).filter((i)=> i.length)\n  outer = params\n  lastKey = chain.pop()\n  for innerKey in chain\n    inner = outer[innerKey]\n    unless inner?\n      inner = {}\n      outer[innerKey] = inner\n    outer = inner\n\n  outer[lastKey] = value\n\nmodule.exports = (new_config, new_value) ->\n  if !cloudinary_config? || new_config == true\n    cloudinary_url = process.env.CLOUDINARY_URL\n    if cloudinary_url?\n      uri = require('url').parse(cloudinary_url, true)\n      cloudinary_config =\n        cloud_name: uri.host,\n        api_key: uri.auth and uri.auth.split(\":\")[0],\n        api_secret: uri.auth and uri.auth.split(\":\")[1],\n        private_cdn: uri.pathname?,\n        secure_distribution: uri.pathname and uri.pathname.substring(1)\n      if uri.query?\n        for k, v of uri.query\n          if isNestedKey(k)\n            putNestedValue cloudinary_config, k, v\n          else\n            cloudinary_config[k] = v\n    else\n      cloudinary_config = {}\n  if not isUndefined(new_value)\n    cloudinary_config[new_config] = new_value\n  else if isString(new_config)\n    return cloudinary_config[new_config]\n  else if isObject(new_config)\n    extend(cloudinary_config, new_config)\n  cloudinary_config\n"
  ]
}